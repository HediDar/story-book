(this["webpackJsonpstory-book"]=this["webpackJsonpstory-book"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),l=n.n(r),c=(n(90),n(30)),i=n(36),d=n(71),u=n(41),s=n(7),p={tasks:{},loaderBool:!0,displayMode:"all",connectionBool:!0};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type;if("ADD_TASK_PENDING"===n)return Object(s.a)(Object(s.a)({},e),{},{loaderBool:!0,connectionBool:!0});if("ADD_TASK_FULFILLED"===n){var a=t.payload.data.data;return Object(s.a)(Object(s.a)({},e),{},{tasks:Object(s.a)(Object(s.a)({},e.tasks),{},Object(u.a)({},a._id,{_id:a._id,name:a.name,description:a.description,important:a.important,done:!1})),loaderBool:!1})}if("ADD_TASK_REJECTED"===n)return console.log("errror"),Object(s.a)(Object(s.a)({},e),{},{loaderBool:!1,connectionBool:!1});if("DELETE_DATA_PENDING"===n)return Object(s.a)(Object(s.a)({},e),{},{loaderBool:!0,connectionBool:!0});if("DELETE_DATA_FULFILLED"===n){var o=Object(s.a)({},e.tasks),r=t.payload.data.data;return delete o[r],Object(s.a)(Object(s.a)({},e),{},{tasks:o,loaderBool:!1})}if("DELETE_DATA_REJECTED"===n)return console.log("delete error"),Object(s.a)(Object(s.a)({},e),{},{loaderBool:!1,connectionBool:!1});if("FETCH_DATA_PENDING"===n)return Object(s.a)(Object(s.a)({},e),{},{loaderBool:!0,connectionBool:!0});if("FETCH_DATA_FULFILLED"===n){for(var l={},c=0;c<t.payload.data.length;c++)l[t.payload.data[c]._id]=t.payload.data[c];return Object(s.a)(Object(s.a)({},e),{},{tasks:l,loaderBool:!1})}if("FETCH_DATA_REJECTED"===n)return console.log("errror"),Object(s.a)(Object(s.a)({},e),{},{loaderBool:!1,connectionBool:!1});if("UPDATE_TASK_PENDING"===n)return Object(s.a)(Object(s.a)({},e),{},{loaderBool:!0,connectionBool:!0});if("UPDATE_TASK_FULFILLED"===n){var i=Object(s.a)({},e.tasks),d=t.payload.data.data._id;return!0===t.meta?(!1===i[d].important?i[d].important=!0:i[d].important=!1,Object(s.a)(Object(s.a)({},e),{},{tasks:i,loaderBool:!1})):(!1===i[d].done?i[d].done=!0:i[d].done=!1,Object(s.a)(Object(s.a)({},e),{},{tasks:i,loaderBool:!1}))}return"UPDATE_TASK_REJECTED"===n?(console.log("errror"),Object(s.a)(Object(s.a)({},e),{},{loaderBool:!1,connectionBool:!1})):"DISPLAY_MODE"===n?Object(s.a)(Object(s.a)({},e),{},{displayMode:t.payload}):"LOADER_BOOL"===n?Object(s.a)(Object(s.a)({},e),{},{loaderBool:!0}):e};var E=function(e){return Object(i.c)(m,Object(i.a)(d.a),e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},f=n(51),y=n(178),b=n(195),k=n(197),A=n(183),O=n(196),D=n(135),B=n(39),h=n.n(B);function j(e){return h.a.post("https://my-front-end-to-do.herokuapp.com/api/tasks",{name:e.name,description:e.description,important:e.important,done:e.done})}function g(e){var t=e.id;return h.a.delete("https://my-front-end-to-do.herokuapp.com/api/tasks?_id="+t)}function T(e){return h.a.put("https://my-front-end-to-do.herokuapp.com/api/tasks?_id="+e._id,{name:e.name,description:e.description,important:e.important,done:e.done})}var _=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),r=n[0],l=n[1],c=Object(a.useState)(""),i=Object(f.a)(c,2),d=i[0],u=i[1],s=Object(a.useState)("notImportant"),p=Object(f.a)(s,2),m=p[0],E=p[1],B=e.addTaskByApiAction,h=e.connectionBool,j=e.loaderBool;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{container:!0,style:{justifyContent:"center"}},o.a.createElement(y.a,{alignItems:"center",container:!0,item:!0,xs:12,md:10,lg:8},o.a.createElement(y.a,{container:!0,item:!0,style:{justifyContent:"center"},xl:12},o.a.createElement(b.a,{onChange:function(e){l(e.target.value)},value:r,inputProps:{style:{textAlign:"center"}},fullWidth:!0,id:"standard-basic",label:"task name"})),o.a.createElement(y.a,{container:!0,item:!0,style:{justifyContent:"center"},xl:12},o.a.createElement(b.a,{onChange:function(e){u(e.target.value)},value:d,inputProps:{style:{textAlign:"center"}},fullWidth:!0,id:"standard-multiline-flexible",label:"task description",multiline:!0,rowsMax:4})),o.a.createElement(y.a,{container:!0,item:!0,style:{justifyContent:"center"},xl:12},o.a.createElement(k.a,{onChange:function(e){E(e.target.value)},row:!0,"aria-label":"gender",name:"myRadioGroup",value:m},o.a.createElement(A.a,{value:"notImportant",control:o.a.createElement(O.a,null),label:"Not important"}),o.a.createElement(A.a,{value:"Important",control:o.a.createElement(O.a,null),label:"Important"}))),o.a.createElement(y.a,{container:!0,item:!0,style:{justifyContent:"center"},xl:12},o.a.createElement(D.a,{disabled:!h||j,fullWidth:!0,color:"secondary",onClick:function(){return function(){if(""===r)alert("you need to name your task");else{B("notImportant"===m?{name:r,description:d,important:!1,done:!1}:{name:r,description:d,important:!0,done:!1})}l(""),u(""),E("notImportant")}()}},"Add task")))))};_.defaultProps={addTaskByApiAction:function(){}};var v=Object(c.b)((function(e){return{connectionBool:e.connectionBool,loaderBool:e.loaderBool}}),(function(e){return{addTaskByApiAction:function(t){return e({type:"ADD_TASK",payload:j(t)})}}}))(_),C=n(72),I=n(73),S=n(76),F=n(75),L=n(189),w=n(194),x=n(193),M=n(192),N=n(190),P=n(191),H=n(74),R=n.n(H),U=n(198),G=n(186),K=n(185),J=n(188),X=n(133),W=n(187),z=n(184),V=Object(z.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),Y=function(e){var t=e.task,n=e.onDone,a=e.onDeleteTask,r=e.onImportant,l=V();return!1===t.done&&!0===t.important?o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{defaultExpanded:!0,style:{backgroundColor:"yellow"}},o.a.createElement(K.a,{"aria-controls":"panel1c-content",id:"panel1c-header"},o.a.createElement("div",null,o.a.createElement(X.a,null,t.name))),o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement(X.a,{className:l.secondaryHeading},t.description))),o.a.createElement(W.a,null),o.a.createElement(J.a,null,o.a.createElement(D.a,{color:"secondary",onClick:function(){return r(t)}}," ","remove from important"),o.a.createElement(D.a,{color:"secondary",onClick:function(){return n(t)}}," ","Add to done"),o.a.createElement(D.a,{color:"secondary",onClick:function(){return a(t._id)}},"Delete")))):!1===t.done&&!1===t.important?o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{defaultExpanded:!0,style:{backgroundColor:"white"}},o.a.createElement(K.a,{"aria-controls":"panel1c-content",id:"panel1c-header"},o.a.createElement("div",null,o.a.createElement(X.a,null,t.name))),o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement(X.a,{className:l.secondaryHeading},t.description))),o.a.createElement(W.a,null),o.a.createElement(J.a,null,o.a.createElement(D.a,{color:"secondary",onClick:function(){return r(t)}}," ","make Important"),o.a.createElement(D.a,{color:"secondary",onClick:function(){return n(t)}}," ","Add to done"),o.a.createElement(D.a,{color:"secondary",onClick:function(){return a(t._id)}},"Delete")))):!0===t.done?o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{defaultExpanded:!0,style:{backgroundColor:"lightgrey"}},o.a.createElement(K.a,{"aria-controls":"panel1c-content",id:"panel1c-header"},o.a.createElement("div",null,o.a.createElement(X.a,null,t.name))),o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement(X.a,{className:l.secondaryHeading},t.description))),o.a.createElement(W.a,null),o.a.createElement(J.a,null,o.a.createElement(D.a,{color:"secondary",onClick:function(){return a(t._id)}},"Delete")))):o.a.createElement(o.a.Fragment,null)};Y.defaultProps={task:{},onDone:function(){},onDeleteTask:function(){},onImportant:function(){}};var q=Y,Q=n(53),Z=function(e){return e.displayMode},$=Object(Q.a)([Z,function(e){return e.tasks}],(function(e,t){var n=Object.values(Object(s.a)({},t));return"all"===e?(n.sort((function(e,t){return e.important&&!t.important?1:-1})),n.sort((function(e,t){return e.done&&!t.done?1:-1})),n):"actif"===e?(n.sort((function(e,t){return e.important&&!t.important?1:-1})),n.sort((function(e,t){return e.done&&!t.done?1:-1})),n=n.filter((function(e){return!1===e.done}))):"done"===e?n=n.filter((function(e){return!0===e.done})):t})),ee=Object(Q.a)([Z],(function(e){if("all"===e){return["primary","secondary","secondary"]}if("actif"===e){return["secondary","primary","secondary"]}if("done"===e){return["secondary","secondary","primary"]}return[]})),te=function(e){Object(S.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(C.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onImportantHandle=function(t){var n=Object(s.a)({},t),a=e.props.updateTaskByApiAction;!1===n.important?n.important=!0:n.important=!1,n.importantOrDoneBool=!0,a(n)},e.onDoneHandle=function(t){var n=Object(s.a)({},t),a=e.props.updateTaskByApiAction;!1===n.done&&(n.done=!0),n.importantOrDoneBool=!1,a(n)},e.onDeleteHandle=function(t){(0,e.props.deleteTaskByApiAction)({id:t})},e.allButtonClick=function(){(0,e.props.changeDisplayModeAction)("all")},e.handleActiveButtonClick=function(){(0,e.props.changeDisplayModeAction)("actif")},e.handleAllcompletedButtonClick=function(){(0,e.props.changeDisplayModeAction)("done")},e.refreshComponent=function(){window.location.reload(!1)},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchAllTasksByApiAction)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.displayMode,a=t.tasksFiltred,r=t.GroupButtonsColors,l=t.loaderBool,c=t.connectionBool;return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{style:{display:c?"none":"block"},"aria-label":"simple table"},o.a.createElement(N.a,null,o.a.createElement(P.a,null,o.a.createElement(M.a,null,"a server side error occured"),o.a.createElement(M.a,null,o.a.createElement(D.a,{color:"primary",onClick:function(){return e.refreshComponent()}},"Refresh and try again?"))))),o.a.createElement("div",{style:{display:c?"block":"none"}},o.a.createElement(L.a,{"aria-label":"simple table"},o.a.createElement(N.a,null,o.a.createElement(P.a,null,o.a.createElement(M.a,null,a.length," items displayed"," "),o.a.createElement(M.a,{align:"right"}," "),o.a.createElement(M.a,{align:"right"}," ",o.a.createElement(R.a,{style:{display:l?"block":"none"},type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"})," "),o.a.createElement(M.a,{align:"right"},o.a.createElement(x.a,{"aria-label":"outlined secondary button group"},o.a.createElement(D.a,{color:r[0],onClick:function(){return e.allButtonClick()}},"Show all"),o.a.createElement(D.a,{color:r[1],onClick:function(){return e.handleActiveButtonClick()}},"Show active"),o.a.createElement(D.a,{color:r[2],onClick:function(){return e.handleAllcompletedButtonClick()}},"Show completed"))))),o.a.createElement(w.a,null,o.a.createElement(P.a,null,o.a.createElement(M.a,{colSpan:"4",component:"th",scope:"row"},a.map((function(t){return o.a.createElement(q,{key:t._id,task:t,displayMode:n,onDone:e.onDoneHandle,onDeleteTask:e.onDeleteHandle,onImportant:e.onImportantHandle})}))))))))}}]),n}(a.Component);te.defaultProps={connectionBool:!0,fetchAllTasksByApiAction:function(){},deleteTaskByApiAction:function(){},updateTaskByApiAction:function(){},changeDisplayModeAction:function(){},displayMode:"all",tasks:{},loaderBool:!0,tasksFiltred:[{}],GroupButtonsColors:["primary","secondary","secondary"]};var ne=Object(c.b)((function(e){return{displayMode:e.displayMode,tasks:e.tasks,connectionBool:e.connectionBool,loaderBool:e.loaderBool,tasksFiltred:$(e),GroupButtonsColors:ee(e)}}),(function(e){return{updateTaskByApiAction:function(t){return e({type:"UPDATE_TASK",payload:T(n=t),meta:n.importantOrDoneBool});var n},deleteTaskByApiAction:function(t){return e({type:"DELETE_DATA",payload:g({id:t.id})})},fetchAllTasksByApiAction:function(){return e({type:"FETCH_DATA",payload:h.a.get("https://my-front-end-to-do.herokuapp.com/api/tasks")})},changeDisplayModeAction:function(t){return e({type:"DISPLAY_MODE",payload:t})}}}))(te),ae=(n(131),function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ne,null))});l.a.render(o.a.createElement(c.a,{store:E()},o.a.createElement(ae,null)),document.getElementById("root"))},85:function(e,t,n){e.exports=n(132)},90:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.8163996e.chunk.js.map